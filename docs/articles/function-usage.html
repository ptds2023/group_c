<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This vignette details how to use the budgetoverview package to manage financial data, create visualizations, and compare expenses to average spending.
">
<title>Functions - How to use • budgetoverview</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Functions - How to use">
<meta property="og:description" content="This vignette details how to use the budgetoverview package to manage financial data, create visualizations, and compare expenses to average spending.
">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">budgetoverview</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/function-usage.html">Functions - How to use</a>
    <a class="dropdown-item" href="../articles/package-installation.html">Package - How to Install</a>
    <a class="dropdown-item" href="../articles/shiny-usage.html">Shiny - How to use</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ptds2023/group_c/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="function-usage_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="function-usage_files/plotly-binding-4.10.3/plotly.js"></script><script src="function-usage_files/typedarray-0.1/typedarray.min.js"></script><link href="function-usage_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="function-usage_files/crosstalk-1.2.1/js/crosstalk.min.js"></script><link href="function-usage_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="function-usage_files/plotly-main-2.11.1/plotly-latest.min.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Functions - How to use</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ptds2023/group_c/blob/HEAD/vignettes/function-usage.Rmd" class="external-link"><code>vignettes/function-usage.Rmd</code></a></small>
      <div class="d-none name"><code>function-usage.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="add_expense">1. <code>add_expense</code><a class="anchor" aria-label="anchor" href="#add_expense"></a>
</h2>
<div class="section level4">
<h4 id="purpose-add-a-new-entry-to-the-data-frame-that-tracks-expenses-">Purpose: add a new entry to the data frame that tracks
expenses.<a class="anchor" aria-label="anchor" href="#purpose-add-a-new-entry-to-the-data-frame-that-tracks-expenses-"></a>
</h4>
</div>
<div class="section level4">
<h4 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h4>
<ul>
<li><p><strong><code>category</code></strong>: string describing the
type of expense (e.g., “Groceries”, “Utilities”).</p></li>
<li><p><strong><code>amount</code></strong>: monetary value of the
expense.</p></li>
<li><p><strong><code>expenses_data</code></strong>: reactive value that
contains a data frame of expenses.</p></li>
<li><p><strong><code>selected_categories</code></strong>: reactive value
storing a list of categories that have already been selected.</p></li>
<li><p><strong><code>session</code></strong>: Shiny session object, used
for showing modal dialogues in the Shiny app.</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="functionality">Functionality<a class="anchor" aria-label="anchor" href="#functionality"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<p><strong>Validate Amount</strong>:</p>
<ul>
<li>The function first checks if the
<strong><code>amount</code></strong> is <strong><code>NA</code></strong>
(not available/missing) or less than 0. If either is true, a modal
dialog box is displayed to the user, indicating that the amount must be
non-negative, and the function returns
<strong><code>FALSE</code></strong>.</li>
</ul>
</li>
<li>
<p><strong>Check Category and Update Data</strong>:</p>
<ul>
<li><p>The function then checks if the
<strong><code>category</code></strong> is not already present in
<strong><code>selected_categories</code></strong>. If it’s a new
category, the function proceeds to add the expense.</p></li>
<li><p>It appends the new expense data (category and amount) to the
current <strong><code>expenses_data</code></strong> data frame using
<strong><code>rbind</code></strong>.</p></li>
<li><p>The <strong><code>expenses_data</code></strong> reactive value is
updated with this new data frame.</p></li>
<li><p>The <strong><code>selected_categories</code></strong> reactive
value is also updated to include the new category.</p></li>
<li><p>The function returns <strong><code>TRUE</code></strong> to
indicate that the expense was successfully added.</p></li>
</ul>
</li>
<li>
<p><strong>Handle Duplicate Category</strong>:</p>
<ul>
<li>If the category already exists in
<strong><code>selected_categories</code></strong>, the function does not
add the expense and returns <strong><code>FALSE</code></strong>.</li>
</ul>
</li>
</ol>
</div>
<div class="section level4">
<h4 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h4>
<p>In a Shiny app, this function would be used within an
<strong><code>observeEvent</code></strong> or similar reactive context.
It is triggered by a user action, specifically pressing an “Add Expense”
button. The function reads the category and amount from the user input,
attempts to add the expense, and then you can take additional actions
based on whether the expense was successfully added.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the Shiny package</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"shiny"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: shiny</span></span>
<span><span class="co">#&gt; Warning: package 'shiny' was built under R version 4.3.1</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Assuming you have a Shiny reactive environment set up</span></span>
<span></span>
<span><span class="co"># Initialize reactive values</span></span>
<span><span class="va">expenses_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactiveVal.html" class="external-link">reactiveVal</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>, amount <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">selected_categories</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactiveVal.html" class="external-link">reactiveVal</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example usage within a Shiny observeEvent</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">add_expense</span>, <span class="op">{</span></span>
<span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/add_expense.html">add_expense</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">category</span>, <span class="va">input</span><span class="op">$</span><span class="va">expense</span>, <span class="va">expenses_data</span>, <span class="va">selected_categories</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">result</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Perform actions after successful addition</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Expense added successfully."</span><span class="op">)</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="co"># Handle cases where addition fails</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Failed to add expense."</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="generate_bar_chart">2. <code>generate_bar_chart</code><a class="anchor" aria-label="anchor" href="#generate_bar_chart"></a>
</h2>
<div class="section level4">
<h4 id="purpose-creates-a-bar-chart-for-visualizing-data-such-as-income-expenses-and-savings-">Purpose: creates a bar chart for visualizing data such as income,
expenses, and savings.<a class="anchor" aria-label="anchor" href="#purpose-creates-a-bar-chart-for-visualizing-data-such-as-income-expenses-and-savings-"></a>
</h4>
</div>
<div class="section level4">
<h4 id="parameters-1">Parameters<a class="anchor" aria-label="anchor" href="#parameters-1"></a>
</h4>
<ul>
<li>
<p><strong><code>data</code></strong>: data frame that contains the
data to be plotted. This data frame is expected to have at least two
columns:</p>
<ul>
<li><p><strong><code>category</code></strong>: A column that contains
the names of the categories (like “Income”, “Expenses”,
“Savings”).</p></li>
<li><p><strong><code>amount</code></strong>: A column that contains
numerical values associated with each category.</p></li>
</ul>
</li>
<li><p><strong><code>colorblind_switch</code></strong>: A logical flag
(TRUE or FALSE) that, when set to TRUE, enables a colorblind-friendly
color palette for the bar chart. This is important for accessibility,
ensuring that the visualization is readable by individuals with color
vision deficiencies.</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="functionality-1">Functionality<a class="anchor" aria-label="anchor" href="#functionality-1"></a>
</h4>
<ul>
<li>
<p><strong>Bar Chart Creation</strong>:</p>
<ul>
<li><p>The function uses <strong><code>ggplot2</code></strong> to create
a basic bar chart. The <strong><code>aes</code></strong> function
specifies the aesthetics of the plot, mapping
<strong><code>category</code></strong> to the x-axis and
<strong><code>amount</code></strong> to the y-axis.</p></li>
<li><p><strong><code>geom_bar(stat = "identity")</code></strong> tells
<strong><code>ggplot2</code></strong> to create a bar chart where the
heights of the bars represent the <strong><code>amount</code></strong>
values in the data.</p></li>
</ul>
</li>
<li>
<p><strong>Color Palette</strong>:</p>
<ul>
<li>Depending on the <strong><code>colorblind_switch</code></strong>, it
selects a color palette that is either standard or colorblind-friendly.
This is done using
<strong><code>scale_fill_manual(values = color_palette)</code></strong>.</li>
</ul>
</li>
<li>
<p><strong>Styling and Labels</strong>:</p>
<ul>
<li>The chart is further styled with titles and labels using
<strong><code>labs</code></strong>, and a minimal theme is applied for a
clean, modern look (<strong><code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal()</a></code></strong>). The
legend is removed for simplicity.</li>
</ul>
</li>
<li>
<p><strong>Plotly Conversion</strong>:</p>
<ul>
<li>Finally, <strong><code>ggplotly(p)</code></strong> converts the
<strong><code>ggplot</code></strong> object into a Plotly object. This
step enhances the interactivity of the plot, allowing for features like
hover effects in a web-based environment.</li>
</ul>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="example-1">Example<a class="anchor" aria-label="anchor" href="#example-1"></a>
</h4>
<ul>
<li>In a Shiny application, this plot can be rendered using
<strong><code><a href="https://rdrr.io/pkg/plotly/man/plotly-shiny.html" class="external-link">renderPlotly()</a></code></strong> to make it
interactive.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Sample data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Income"</span>, <span class="st">"Expenses"</span>, <span class="st">"Savings"</span><span class="op">)</span>,</span>
<span>  amount <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">750</span>, <span class="fl">250</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate and display the bar chart</span></span>
<span><span class="va">bar_chart</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generate_bar_chart.html">generate_bar_chart</a></span><span class="op">(</span><span class="va">data</span>, colorblind_switch <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">bar_chart</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-d6fe8cd380a1bed594ad" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-d6fe8cd380a1bed594ad">{"x":{"data":[{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[750],"text":"category: Expenses<br />amount:  750<br />category: Expenses","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(102,194,165,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Expenses","legendgroup":"Expenses","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[1000],"text":"category: Income<br />amount: 1000<br />category: Income","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(252,141,98,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Income","legendgroup":"Income","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[3],"y":[250],"text":"category: Savings<br />amount:  250<br />category: Savings","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(141,160,203,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Savings","legendgroup":"Savings","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":45.358882994166862,"r":7.3059360730593621,"b":41.778974318367787,"l":48.949771689497723},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Income, Expenses, and Savings","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,3.6000000000000001],"tickmode":"array","ticktext":["Expenses","Income","Savings"],"tickvals":[1,2,3],"categoryorder":"array","categoryarray":["Expenses","Income","Savings"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Category","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-50,1050],"tickmode":"array","ticktext":["0","250","500","750","1000"],"tickvals":[0,250,500,750,1000],"categoryorder":"array","categoryarray":["0","250","500","750","1000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Amount","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3b5c1387e640":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"3b5c1387e640","visdat":{"3b5c1387e640":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level4">
<h4 id="output">Output<a class="anchor" aria-label="anchor" href="#output"></a>
</h4>
<ul>
<li>The function returns a Plotly ggplot object, which is an interactive
plot that can be rendered in a web browser, making it suitable for Shiny
applications or R Markdown documents.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="generate_comparison_plot">3. <code>generate_comparison_plot</code><a class="anchor" aria-label="anchor" href="#generate_comparison_plot"></a>
</h2>
<div class="section level4">
<h4 id="function-visualize-and-compare-two-sets-of-financial-data-the-users-expenses-and-the-average-expenses-in-switzerland-in-a-scatter-plot-format--provides-insights-into-how-personal-spending-patterns-align-with-or-deviate-from-national-averages-">Function: visualize and compare two sets of financial data – the
user’s expenses and the average expenses in Switzerland – in a scatter
plot format. Provides insights into how personal spending patterns align
with or deviate from national averages.<a class="anchor" aria-label="anchor" href="#function-visualize-and-compare-two-sets-of-financial-data-the-users-expenses-and-the-average-expenses-in-switzerland-in-a-scatter-plot-format--provides-insights-into-how-personal-spending-patterns-align-with-or-deviate-from-national-averages-"></a>
</h4>
</div>
<div class="section level4">
<h4 id="parameters-2">Parameters<a class="anchor" aria-label="anchor" href="#parameters-2"></a>
</h4>
<ul>
<li>
<p><strong><code>user_vs_swiss</code></strong>: A data frame that
contains the data for comparison. This data frame should have three
columns:</p>
<ul>
<li><p><strong><code>category</code></strong>: Categories of expenses
(like “Food”, “Transport”, “Utilities”).</p></li>
<li><p><strong><code>user_amount</code></strong>: The amount of money
spent by the user in each category.</p></li>
<li><p><strong><code>swiss_amount</code></strong>: The average amount
spent in each category in Switzerland.</p></li>
</ul>
</li>
<li><p><strong><code>colorblind_switch</code></strong>: A logical flag
that determines whether the plot should use a colorblind-friendly color
palette. This enhances accessibility for users with color vision
deficiencies.</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="functionality-2">Functionality<a class="anchor" aria-label="anchor" href="#functionality-2"></a>
</h4>
<ul>
<li>
<p><strong>Data Visualization</strong>:</p>
<ul>
<li><p>The function uses <strong><code>ggplot2</code></strong> to create
a scatter plot. It plots both <strong><code>user_amount</code></strong>
and <strong><code>swiss_amount</code></strong> as points on the plot,
where each point’s position is determined by its relative share in the
total expenses and its absolute amount.</p></li>
<li><p>The <strong><code>geom_point</code></strong> function is used
twice to plot points for both user expenses and Swiss average expenses
on the same graph, differentiated by shapes (“User”
vs. “Swiss”).</p></li>
</ul>
</li>
<li>
<p><strong>Color Palette</strong>:</p>
<ul>
<li>Depending on the <strong><code>colorblind_switch</code></strong>, it
selects an appropriate color palette
(<strong><code>brewer.pal</code></strong>) that is either standard or
friendly for colorblind users.</li>
</ul>
</li>
<li>
<p><strong>Styling and Labels</strong>:</p>
<ul>
<li><p>The chart is styled with titles, labels, and minimal themes for a
clean appearance. The legend is positioned to the right for
clarity.</p></li>
<li><p>The x-axis represents the percentage share of each category’s
expenses relative to the total, and the y-axis represents the actual
amount spent.</p></li>
</ul>
</li>
<li>
<p><strong>Plotly Conversion</strong>:</p>
<ul>
<li>
<strong><code>ggplotly(p)</code></strong> converts the
<strong><code>ggplot</code></strong> object into a Plotly object, making
the plot interactive. This interactivity enhances user engagement,
allowing for features like tooltips on hover.</li>
</ul>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="example-usage">Example Usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h4>
<ul>
<li>Just like the previous ones, this function is intended to be used
within a Shiny server function.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Sample data for user expenses vs. average expenses</span></span>
<span><span class="va">user_vs_swiss</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Food"</span>, <span class="st">"Transport"</span>, <span class="st">"Utilities"</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  amount <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">150</span>, <span class="fl">100</span>, <span class="fl">250</span>, <span class="fl">180</span>, <span class="fl">120</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"User's Expenses"</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Swiss Average Expenses"</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  hover_text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Food: 200"</span>, <span class="st">"Transport: 150"</span>, <span class="st">"Utilities: 100"</span>, <span class="st">"Food: 250"</span>, <span class="st">"Transport: 180"</span>, <span class="st">"Utilities: 120"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate the comparison scatter plot</span></span>
<span><span class="va">colorblind_switch</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span>  <span class="co"># Set the colorblind mode</span></span>
<span><span class="va">comparison_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generate_comparison_plot.html">generate_comparison_plot</a></span><span class="op">(</span><span class="va">user_vs_swiss</span>, <span class="va">colorblind_switch</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Display the plot</span></span>
<span><span class="va">comparison_plot</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-fe9c2d48560dbc26ca20" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-fe9c2d48560dbc26ca20">{"x":{"data":[{"x":[25,18,12],"y":[250,180,120],"text":["Food: 250","Transport: 180","Utilities: 120"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,0,0,1)","opacity":0.5,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,0,0,1)"}},"hoveron":"points","name":"Swiss Average Expenses","legendgroup":"Swiss Average Expenses","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20,15,10],"y":[200,150,100],"text":["Food: 200","Transport: 150","Utilities: 100"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,255,1)","opacity":0.5,"size":15.118110236220474,"symbol":"triangle-up","line":{"width":1.8897637795275593,"color":"rgba(0,0,255,1)"}},"hoveron":"points","name":"User's Expenses","legendgroup":"User's Expenses","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":45.358882994166862,"r":7.3059360730593621,"b":41.778974318367787,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Compare to the Average Swiss Expenses","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[9.25,25.75],"tickmode":"array","ticktext":["10","15","20","25"],"tickvals":[10,15,20,25],"categoryorder":"array","categoryarray":["10","15","20","25"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"% Share of Expenses","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[92.5,257.5],"tickmode":"array","ticktext":["100","150","200","250"],"tickvals":[100,150,200,250],"categoryorder":"array","categoryarray":["100","150","200","250"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Amount","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":"","labels":["User's expenses","Swiss average expenses"]},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3b5c674bfadb":{"x":{},"y":{},"colour":{},"text":{},"shape":{},"type":"scatter"}},"cur_data":"3b5c674bfadb","visdat":{"3b5c674bfadb":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level4">
<h4 id="output-1">Output<a class="anchor" aria-label="anchor" href="#output-1"></a>
</h4>
<ul>
<li>The function returns a Plotly ggplot object, which is an interactive
plot suitable for web applications, particularly for Shiny.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="generate_scatter_or_pie">4. <code>generate_scatter_or_pie</code><a class="anchor" aria-label="anchor" href="#generate_scatter_or_pie"></a>
</h2>
<div class="section level4">
<h4 id="purpose-to-dynamically-generate-a-visualization-of-expenses-data-either-as-a-scatter-plot-or-a-pie-chart-based-on-user-input-">Purpose: to dynamically generate a visualization of expenses data,
either as a scatter plot or a pie chart, based on user input.<a class="anchor" aria-label="anchor" href="#purpose-to-dynamically-generate-a-visualization-of-expenses-data-either-as-a-scatter-plot-or-a-pie-chart-based-on-user-input-"></a>
</h4>
<ul>
<li>
<strong>Adaptive Visualization</strong>: The function can switch
between two types of plots, offering flexibility in how the data is
presented.</li>
</ul>
</div>
<div class="section level4">
<h4 id="parameters-3">Parameters<a class="anchor" aria-label="anchor" href="#parameters-3"></a>
</h4>
<ul>
<li>
<p><strong><code>expenses_data_summary</code></strong>: A data frame
containing summarized expense data. It should have at least two
columns:</p>
<ul>
<li><p><strong><code>category</code></strong>: The names of expense
categories.</p></li>
<li><p><strong><code>percentage</code></strong>: The percentage share of
each category in the total expenses.</p></li>
<li><p>(The function seems to also use an
<strong><code>amount</code></strong> column, as indicated in the scatter
plot creation code.)</p></li>
</ul>
</li>
<li><p><strong><code>scatter_plot_type</code></strong>: A character
string that specifies the type of plot to generate. It can be either
“Scatter Plot” or “Pie Chart”. This parameter allows the function to
switch between plot types based on user preference.</p></li>
<li><p><strong><code>colorblind_switch</code></strong>: A logical value
that, when true, switches the color palette to a colorblind-friendly
mode. This enhances accessibility for users with color vision
deficiencies.</p></li>
</ul>
</div>
<div class="section level4">
<h4 id="functionality-3">Functionality<a class="anchor" aria-label="anchor" href="#functionality-3"></a>
</h4>
<ol style="list-style-type: decimal">
<li>
<p><strong>Color Palette Selection</strong>:</p>
<ul>
<li>Based on the <strong><code>colorblind_switch</code></strong>, the
function selects a suitable color palette using
<strong><code>brewer.pal</code></strong>.</li>
</ul>
</li>
<li>
<p><strong>Creating the Scatter Plot</strong>:</p>
<ul>
<li><p>If <strong><code>scatter_plot_type</code></strong> is “Scatter
Plot”, the function creates a scatter plot using
<strong><code>ggplot2</code></strong>.</p></li>
<li><p>The scatter plot represents each expense category as a point,
with its position determined by the percentage share (x-axis) and the
actual amount (y-axis).</p></li>
<li><p>Additional features like point color, size, and labels are added
for clarity and aesthetics.</p></li>
<li><p>The scatter plot is then converted to an interactive Plotly plot
using <strong><code>ggplotly</code></strong>.</p></li>
</ul>
</li>
<li>
<p><strong>Creating the Pie Chart</strong>:</p>
<ul>
<li><p>If <strong><code>scatter_plot_type</code></strong> is “Pie
Chart”, the function uses Plotly’s <strong><code>plot_ly</code></strong>
to create a pie chart.</p></li>
<li><p>The pie chart shows the proportion of each expense category in
the total expenses.</p></li>
<li><p>It includes features like labels, percentages, and hover
information.</p></li>
</ul>
</li>
</ol>
</div>
<div class="section level4">
<h4 id="example-2">Example<a class="anchor" aria-label="anchor" href="#example-2"></a>
</h4>
<ul>
<li>The function can be called within a Shiny server function, where the
user’s choice of plot type and colorblind mode can be passed as inputs.
The resulting plot can be rendered in the UI using
<strong><code>renderPlotly</code></strong>.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Packages</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com" class="external-link">plotly</a></span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Dataframe</span></span>
<span><span class="va">expenses_summary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Food"</span>, <span class="st">"Transport"</span>, <span class="st">"Utilities"</span><span class="op">)</span>,</span>
<span>  amount <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">200</span>, <span class="fl">150</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>  percentage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40</span>, <span class="fl">30</span>, <span class="fl">30</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate a pie chart</span></span>
<span><span class="va">pie_chart</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generate_scatter_or_pie.html">generate_scatter_or_pie</a></span><span class="op">(</span><span class="va">expenses_summary</span>, <span class="st">"Pie Chart"</span>, <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">pie_chart</span></span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-f46ff5d59c48d57fd9b4" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-f46ff5d59c48d57fd9b4">{"x":{"visdat":{"3b5c6605281e":["function () ","plotlyVisDat"]},"cur_data":"3b5c6605281e","attrs":{"3b5c6605281e":{"labels":{},"values":{},"textinfo":"label+percent","insidetextorientation":"radial","hoverinfo":"label+percent+value","marker":{"colors":["#FBB4AE","#B3CDE3","#CCEBC5"]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie"},"3b5c6605281e.1":{"labels":{},"values":{},"textinfo":"label+percent","insidetextorientation":"radial","hoverinfo":"text","marker":{"colors":["#FBB4AE","#B3CDE3","#CCEBC5"]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie","text":{},"hovertemplate":{},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Expenses by Category","showlegend":false,"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["Food","Transport","Utilities"],"values":[200,150,100],"textinfo":"label+percent","insidetextorientation":"radial","hoverinfo":["label+percent+value","label+percent+value","label+percent+value"],"marker":{"color":"rgba(31,119,180,1)","colors":["#FBB4AE","#B3CDE3","#CCEBC5"],"line":{"color":"rgba(255,255,255,1)"}},"type":"pie","frame":null},{"labels":["Food","Transport","Utilities"],"values":[200,150,100],"textinfo":"label+percent","insidetextorientation":"radial","hoverinfo":["text","text","text"],"marker":{"color":"rgba(255,127,14,1)","colors":["#FBB4AE","#B3CDE3","#CCEBC5"],"line":{"color":"rgba(255,255,255,1)"}},"type":"pie","text":["Category: Food<br>Percentage: 40%<br>Amount: 200","Category: Transport<br>Percentage: 30%<br>Amount: 150","Category: Utilities<br>Percentage: 30%<br>Amount: 100"],"hovertemplate":["Category: Food<br>Percentage: 40%<br>Amount: 200","Category: Transport<br>Percentage: 30%<br>Amount: 150","Category: Utilities<br>Percentage: 30%<br>Amount: 100"],"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Konstantinos Kourlimpinis.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
